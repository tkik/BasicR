<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="BasicR">
<title>Functions, useful packages â€¢ BasicR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functions, useful packages">
<meta property="og:description" content="BasicR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BasicR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/R_data_types.html">R Data types</a>
    <a class="dropdown-item" href="../articles/S4_classes.html">S4 classes</a>
    <a class="dropdown-item" href="../articles/S4_classes_exercises.html">S4 classes, exercises</a>
    <a class="dropdown-item" href="../articles/assignment.html">Assignment</a>
    <a class="dropdown-item" href="../articles/basic_functions.html">Basic functions</a>
    <a class="dropdown-item" href="../articles/control_structures.html">Control structures</a>
    <a class="dropdown-item" href="../articles/data_cleaning.html">Data cleaning with Tidyverse</a>
    <a class="dropdown-item" href="../articles/data_cleaning_solutions.html">Data cleaning, solutions</a>
    <a class="dropdown-item" href="../articles/data_types_exercises.html">Data types, exercises</a>
    <a class="dropdown-item" href="../articles/data_types_exercises_solutions.html">Data types, solutions</a>
    <a class="dropdown-item" href="../articles/enrichment.html">Enrichment analysis</a>
    <a class="dropdown-item" href="../articles/exercises_control_exercises.html">Control structures, exercises</a>
    <a class="dropdown-item" href="../articles/exercises_control_solutions.html">Control structures, solutions</a>
    <a class="dropdown-item" href="../articles/functions_exercises.html">Functions, exercises</a>
    <a class="dropdown-item" href="../articles/functions_exercises_solutions.html">Functions, solutions</a>
    <a class="dropdown-item" href="../articles/ggplot2.html">GGplot2</a>
    <a class="dropdown-item" href="../articles/ggplot_solutions.html">GGplot solutions</a>
    <a class="dropdown-item" href="../articles/intro.html">Course introduction</a>
    <a class="dropdown-item" href="../articles/methylation_analysisRmd.html">DNA methylation</a>
    <a class="dropdown-item" href="../articles/r_functions.html">Functions, useful packages</a>
    <a class="dropdown-item" href="../articles/references.html">References</a>
    <a class="dropdown-item" href="../articles/reproducible.html">Reproducible programming</a>
    <a class="dropdown-item" href="../articles/reproducible_solutions.html">Reproducible programming, exercises</a>
    <a class="dropdown-item" href="../articles/resources.html">Resources</a>
    <a class="dropdown-item" href="../articles/set_up_git.html">Set up git</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tkik/BasicR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="r_functions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Functions, useful packages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tkik/BasicR/blob/HEAD/vignettes/r_functions.Rmd" class="external-link"><code>vignettes/r_functions.Rmd</code></a></small>
      <div class="d-none name"><code>r_functions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="funtions-in-r">Funtions in R<a class="anchor" aria-label="anchor" href="#funtions-in-r"></a>
</h2>
<p>R is a function-oriented language. Basically every object manipulation is done with functions. It is possible that during a data analysis we are only using functions from the different packages, but it is useful to write our own functions as well. The main purpose is to avoid code repetition. As a rule of a thumb, if you need to do the same thing more than twice -&gt; write a function instead.</p>
<div class="section level3">
<h3 id="general-syntax">General syntax<a class="anchor" aria-label="anchor" href="#general-syntax"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Hello world! \n"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">f</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Hello world!</span></code></pre>
<ul>
<li>name: if we want to actually run the function</li>
<li>arguments (optional)</li>
<li>expressions - what the function is doing</li>
<li>return value (options)</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">num1</span>, <span class="va">num2</span><span class="op">)</span><span class="op">{</span>
  <span class="va">res</span> <span class="op">&lt;-</span> <span class="va">num1</span><span class="op">+</span><span class="va">num2</span>
  <span class="va">res</span>
<span class="op">}</span>
<span class="fu">f</span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 3</span></code></pre>
<div class="section level4">
<h4 id="return-value">Return value<a class="anchor" aria-label="anchor" href="#return-value"></a>
</h4>
<ul>
<li><p>Returns the last evaluated function</p></li>
<li><p>Explicitly stated. In this case, the evaluation of the function stops and exits.</p></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">num1</span>, <span class="va">num2</span><span class="op">)</span><span class="op">{</span>
  <span class="va">res</span> <span class="op">&lt;-</span> <span class="va">num1</span><span class="op">+</span><span class="va">num2</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Hello world! \n"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">f</span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 3</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h3>
<ul>
<li>Named arguments</li>
<li>Evaluation can be position or name-wise, or even with their combination.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">num1</span>, <span class="va">num2</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">num1</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">num2</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">f</span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 1</span>
<span class="co">## [1] 2</span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">f</span><span class="op">(</span>num2<span class="op">=</span><span class="fl">2</span>, num1<span class="op">=</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 1</span>
<span class="co">## [1] 2</span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">f</span><span class="op">(</span><span class="fl">2</span>, num1<span class="op">=</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 1</span>
<span class="co">## [1] 2</span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">f</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 2</span>
<span class="co">## Error in print(num2) : argument "num2" is missing, with no default</span></code></pre>
<div class="section level4">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a>
</h4>
<ul>
<li>the arguments can have default values:</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">num1</span>, <span class="va">num2</span><span class="op">=</span><span class="fl">3</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">num1</span><span class="op">)</span>
  <span class="co">#browser()</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">num2</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">f</span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 1</span>
<span class="co">## [1] 2</span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">f</span><span class="op">(</span>num2<span class="op">=</span><span class="fl">2</span>, num1<span class="op">=</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 1</span>
<span class="co">## [1] 2</span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">f</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 2</span>
<span class="co">## [1] 3</span></code></pre>
</div>
<div class="section level4">
<h4 id="environment">Environment<a class="anchor" aria-label="anchor" href="#environment"></a>
</h4>
<p>The functions are working in their own environment. This environment canâ€™t be seen from the outside. E.g. if you define a variable within the function, it wonâ€™t be available outside the function. There are certain rules of what variables can be seen from inside the functionâ€™s environment. <em>Lexical scoping</em> - searches the environment where the function was defined.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span> 
         <span class="va">x</span><span class="op">*</span><span class="va">y</span>
<span class="op">}</span>
<span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">g</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Error in g(2) : object 'y' not found</span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="fu">g</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 20</span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#but!</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>
<span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Error in mean.default() : argument "x" is missing, with no default</span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span> 
  <span class="va">ab</span> <span class="op">&lt;-</span> <span class="fl">12</span>
         <span class="va">x</span><span class="op">*</span><span class="va">y</span>
<span class="op">}</span>
<span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ab</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Error in print(ab) : object 'ab' not found</span></code></pre>
<p>Why?</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/AnnotationDbi/man/Bimap-envirAPI.html" class="external-link">ls</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "f" "g" "x" "y"</span></code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#ls(environment(mean))</span>

<span class="fu"><a href="https://rdrr.io/r/base/search.html" class="external-link">search</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##  [1] ".GlobalEnv"        "package:stats"     "package:graphics" </span>
<span class="co">##  [4] "package:grDevices" "package:utils"     "package:datasets" </span>
<span class="co">##  [7] "package:methods"   "Autoloads"         "tools:callr"      </span>
<span class="co">## [10] "package:base"</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h3>
<p>Due to the own environment, it can be difficult what goes wrong within the function. Useful functions:</p>
<p><code><a href="https://rdrr.io/r/base/traceback.html" class="external-link">traceback()</a></code> <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> <code><a href="https://rdrr.io/r/base/debug.html" class="external-link">debug()</a></code> <code>options(error=recover)</code> <code>options(error=stop)</code></p>
<p><img src="https://github.com/allisonhorst/stats-illustrations/blob/master/other-stats-artwork/debugging.jpg?raw=true" width="70%"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Reka Toth, Rajbir Nath Batra.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
